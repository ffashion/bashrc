#################################################
#@main config
PidFile ${APACHE_PID_FILE}
Timeout 300
KeepAlive On
MaxKeepAliveRequests 100
KeepAliveTimeout 5
#变量 ${APACHE_RUN_USER}和${APACHE_RUN_GROUP}分别为User和Group设置内容

User apache
Group apache
HostnameLookups Off
DefaultRuntimeDir ${APACHE_RUN_DIR}
ServerRoot "/etc/apache2"
AccessFileName .htaccess
TypesConfig /etc/apache/mime.types
DirectoryIndex index.php index.html index.htm
DocumentRoot	/var/www/

###be used to creat redirection urls
ServerName	blog.zqa.me 
#AddType	video/mp4	.mkv
#Multi internet mail extension
#Mutex file:${APACHE_LOCK_DIR} default
AddDefaultCharset utf-8

################################################


###################################
#@load other config file 
IncludeOptional conf/mods-conf/mods-enabled/*.load
IncludeOptional conf/mods-conf/mods-enabled/*.conf
IncludeOptional conf/com-conf/conf-enabled/*.conf
#IncludeOptional sites-enabled/*.conf
#Include ports.conf
Listen 80
<IfModule ssl_module>
	Listen 443
</IfModule>

<IfModule mod_gnutls.c>
	Listen 443
</IfModule>

##################################
###############################
#####moudules load manage#######

#mpm_event.load
#LoadModule mpm_event_module /usr/lib/apache2/modules/mod_mpm_event.so

#proxy_fcgi.load
#LoadModule proxy_fcgi_module  /usr/lib/apache2/modules/mod_proxy_fcgi.so

#status.load
#LoadModule status_module /usr/lib/apache2/modules/mod_status.so

#userdir.load
#LoadModule userdir_module     /usr/lib/apache2/modules/mod_userdir.so
#LoadModule  myself_modules     /usr/lib/apache2/modules/mod_userdir.so
# socache_shmcb.load(ssl need this) ssl.conf ssl.load




###############################

#############################
#@modules function manage
<IfModule mod_userdir.c>
UserDir  /home/*/
########UserDir www
</IfModule>
#test 
<IfModule mod_mime_magic.c>
MIMEMagicFile	/etc/magic.mime
</IfModule>



# userdir_module (shared)
# mime_magic_module (shared)
# mime_module (shared)
# mpm_event_module (shared)
# auth_basic_module (shared)
# status_module (shared)

# core_module (static)
# so_module (static)
# watchdog_module (static)
# http_module (static)
# log_config_module (static)
# logio_module (static)
# version_module (static)
# unixd_module (static)
# access_compat_module (shared)
# alias_module (shared)
# authn_core_module (shared)
# authn_file_module (shared)
# authz_core_module (shared)
# authz_host_module (shared)
# authz_user_module (shared)
# autoindex_module (shared)
# deflate_module (shared)
# dir_module (shared)
# env_module (shared)
# filter_module (shared)
# negotiation_module (shared)
# reqtimeout_module (shared)
# setenvif_module (shared)

#




#############################



##########################
#@log config
errorLog ${APACHE_LOG_DIR}/error.log
#CustomLog agent

LogFormat "%v:%p %h %l %u %t \"%r\" %>s %O \"%{Referer}i\" \"%{User-Agent}i\"" vhost_combined
LogFormat "%h %l %u %t \"%r\" %>s %O \"%{Referer}i\" \"%{User-Agent}i\"" combined
LogFormat "%h %l %u %t \"%r\" %>s %O" common
LogFormat "%{Referer}i -> %U" referer
LogFormat "%{User-agent}i" agent
LogLevel warn
#########################




###################
#file manager
<Directory />
	Options FollowSymLinks Indexes
	AllowOverride authconfig
	AuthName	"please input your name and passwd"
	AuthType	basic
	AuthUserFile	/etc/apache2/htpasswd
#httpd -c -m /etc/htpasswd $username
	#AuthGroupFile
	Require valid-user
	
#Require Valid-User
</Directory>
<FilesMatch "^\.ht">
	Require all denied
</FilesMatch>


<Location "/server-status">
    SetHandler server-status
    Require valid-user
</Location>
#################




#############
#VirtualHost manage
#<VirtualHost *:80>
#	#ServerName www.example.com
#	ServerAdmin webmaster@localhost
#	DocumentRoot /var/www/wordpress
#	#LogLevel info ssl:warn
#	ErrorLog ${APACHE_LOG_DIR}/error.log
#	CustomLog ${APACHE_LOG_DIR}/access.log combined
#	#Include conf-available/serve-cgi-bin.conf
#</VirtualHost>

#<VirtualHost *:80>
#    ServerName blog.zqa.me
#    #ServerAlias www.example.com
#    DocumentRoot /var/www/wordpress
# 
#    <Directory />
#        Options +Indexes +FollowSymLinks +MultiViews
#        AllowOverride All
#        Require all granted
#    </Directory>
# 
#    <FilesMatch \.php$>
#        # 2.4.10+ can proxy to unix socket
#        SetHandler "proxy:unix:/var/run/php/php7.2-fpm.sock|fcgi://localhost/"
# 
#        # Else we can just use a tcp socket:
#        #SetHandler "proxy:fcgi://127.0.0.1:9000"
#   </FilesMatch>
# 
#    ErrorLog ${APACHE_LOG_DIR}/error.log
#    CustomLog ${APACHE_LOG_DIR}/access.log combined
#</VirtualHost>

#############
















